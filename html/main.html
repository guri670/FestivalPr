<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>전국 축제 달력</title>
    <link href="../css/main.css" rel="stylesheet">
    <style>
        #sidebar {
            display: none; /* 기본적으로 사이드바를 숨깁니다 */
            position: fixed;
            top: 0;
            right: 0;
            width: 250px;
            height: 100%;
            background: #f4f4f4;
            box-shadow: -2px 0 5px rgba(0,0,0,0.5);
            z-index: 1000;
        }
        #sidebar.visible {
            display: block; /* visible 클래스가 있을 때 사이드바를 표시합니다 */
        }
    </style>
</head>
<body> 
    <!-- 상단 부분 -->
    <header>
        <div class="logo">🎉 전국 축제 달력</div>
        <div class="top-right">
            <button id="login-btn">로그인</button>
            <button id="sidebar-btn">☰</button>
        </div>
    </header>
    
    <section id="region-section">
        <h2>지역별 축제</h2>
        <button onclick="showRegionCalendar('대전')">대전</button>
        <button onclick="showRegionCalendar('서울')">서울</button>
        <button onclick="showRegionCalendar('부산')">부산</button>
        <div id="region-calendar"></div>
    </section>
</main>

<script src="/script.js"></script>

    <!-- 사이드바 -->
    <aside id="sidebar">
        <ul>
            <li><button id="login-menu">로그인</button></li>
            <li><button id="signup-menu">회원가입</button></li>
            <li><button id="calendar-menu">달력보기</button></li>
            <li>
                <button>전국 축제 목록</button>
                <ul>
                    <li>서울</li>
                    <li>부산</li>
                    <li>경기도 인천</li>
                    <li>강원</li>
                    <li>충청 대전</li>
                    <li>전라 광주</li>
                    <li>경상 대구</li>
                    <li>제주</li>
                </ul>
            </li>
            <li><button>축제 후기</button></li>
            <li><button>문의 페이지</button></li>
        </ul>
    </aside>

    <!-- 메인 컨텐츠 -->
    <main>
        <section class="calendar">
            <h2>축제 달력</h2>
            <div id="calendar-container">
                <div class="navigation">
                    <button id="prev-month">이전</button>
                    <span id="current-month"></span>
                    <button id="next-month">다음</button>
                </div>
                <table id="calendar">
                    <!-- JS로 동적으로 생성 -->
                </table>
            </div>
        </section>
        <script>
            const eventData = [
                { region: "FestiList_Region_Soeul", title: "서울 불꽃축제", start: "2024-11-25", end: "2024-11-29" },
                { region: "FestiList_Region_Busan", title: "부산 음악 페스티벌", start: "2024-11-27", end: "2024-11-28" },
                // 추가 데이터
            ];
    
            let currentMonth = new Date();
    
            function renderCalendar(month) {
                const year = month.getFullYear();
                const monthIndex = month.getMonth();
                const firstDay = new Date(year, monthIndex, 1).getDay();
                const lastDate = new Date(year, monthIndex + 1, 0).getDate();
    
                document.getElementById('current-month').innerText = `${year}년 ${monthIndex + 1}월`;
    
                const calendarTable = document.getElementById('calendar');
                calendarTable.innerHTML = `<tr>
                    <th>일</th><th>월</th><th>화</th><th>수</th><th>목</th><th>금</th><th>토</th>
                </tr>`;
    
                let row = document.createElement('tr');
                for (let i = 0; i < firstDay; i++) {
                    row.appendChild(document.createElement('td'));
                }
    
                for (let date = 1; date <= lastDate; date++) {
                    const cell = document.createElement('td');
                    const dayNumber = document.createElement('div');
                    dayNumber.className = 'day-number';
                    dayNumber.innerText = date;
    
                    const dateString = `${year}-${String(monthIndex + 1).padStart(2, '0')}-${String(date).padStart(2, '0')}`;
                    eventData.filter(event => date >= new Date(event.start) && date <= new Date(event.end)).forEach(event => {
                        const eventDiv = document.createElement('div');
                        eventDiv.className = `event ${event.region}`;
                        eventDiv.innerText = event.title;
                        cell.appendChild(eventDiv);
                    });
    
                    cell.appendChild(dayNumber);
                    row.appendChild(cell);
    
                    if ((firstDay + date) % 7 === 0) {
                        calendarTable.appendChild(row);
                        row = document.createElement('tr');
                    }
                }
                if (row.children.length > 0) {
                    calendarTable.appendChild(row);
                }
            }
    
            document.getElementById('prev-month').addEventListener('click', () => {
                currentMonth.setMonth(currentMonth.getMonth() - 1);
                renderCalendar(currentMonth);
            });
    
            document.getElementById('next-month').addEventListener('click', () => {
                currentMonth.setMonth(currentMonth.getMonth() + 1);
                renderCalendar(currentMonth);
            });
    
            renderCalendar(currentMonth);
        </script>
        </section>
        <section class="reviews">
            <h2>최근 후기</h2>
            <ul>
                <li>
                    <p><strong>제목:</strong> 너무 즐거웠어요!</p>
                    <p>내용: 정말 멋진 축제였습니다. 강추!</p>
                    <p class="meta">작성자 | 게시일</p>
                </li>
                <li>
                    <p><strong>제목:</strong> 다시 가고 싶어요</p>
                    <p>내용: 다양한 볼거리와 맛있는 음식!</p>
                    <p class="meta">작성자 | 게시일</p>
                </li>
                <!-- 추가 후기 3개 -->
            </ul>
        </section>
    </main>

    
</body>
</html>